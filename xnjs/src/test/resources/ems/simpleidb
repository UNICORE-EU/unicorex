<?xml version="1.0" encoding="UTF-8"?>

<!--
 a sample idb file 
 -->

<idb:IDB xmlns:idb="http://www.fz-juelich.de/unicore/xnjs/idb">
  
  <!-- Applications -->
  
  <idb:IDBApplication>
    <idb:ApplicationName>Date</idb:ApplicationName>
    <idb:ApplicationVersion>1.0</idb:ApplicationVersion>
    <jsdl:POSIXApplication xmlns:jsdl="http://schemas.ggf.org/jsdl/2005/11/jsdl-posix">
      <jsdl:Executable>/bin/date</jsdl:Executable>
    </jsdl:POSIXApplication>
  </idb:IDBApplication>
  
  <idb:IDBApplication>
    <idb:ApplicationName>Cat</idb:ApplicationName>
    <idb:ApplicationVersion>1.0</idb:ApplicationVersion>
    <jsdl:POSIXApplication xmlns:jsdl="http://schemas.ggf.org/jsdl/2005/11/jsdl-posix">
      <jsdl:Executable>/bin/cat</jsdl:Executable>
       <jsdl:Argument>infile</jsdl:Argument>
    </jsdl:POSIXApplication>
  </idb:IDBApplication>
  
  <!-- templates -->
  <idb:ExecuteScriptTemplate>#!/bin/sh
export TEST="this is a test for the template mechanism"
#COMMAND
#RESOURCES
#SCRIPT
</idb:ExecuteScriptTemplate>
  
  
  <!-- Resources -->
  
  <idb:TargetSystemProperties>
    <jsdl:Resources xmlns:jsdl="http://schemas.ggf.org/jsdl/2005/11/jsdl">
      <jsdl:CPUArchitecture>
        <jsdl:CPUArchitectureName>x86</jsdl:CPUArchitectureName>
      </jsdl:CPUArchitecture>
      <jsdl:IndividualCPUCount>
        <jsdl:Exact>1.0</jsdl:Exact>
      </jsdl:IndividualCPUCount>
      <jsdl:TotalCPUCount>
        <jsdl:Exact>1.0</jsdl:Exact>
      </jsdl:TotalCPUCount>
      <!-- wall time in seconds -->
      <jsdl:IndividualCPUTime>
        <jsdl:Exact>3600</jsdl:Exact>
        <jsdl:Range>
         <jsdl:LowerBound>1</jsdl:LowerBound>
         <jsdl:UpperBound>86400</jsdl:UpperBound>
        </jsdl:Range>
      </jsdl:IndividualCPUTime>
      <idb:Resource xmlns:idb="http://www.fz-juelich.de/unicore/xnjs/idb">
        <idb:Name>ExclusiveExecution</idb:Name>
        <idb:Type>choice</idb:Type>
        <idb:Description>Exclusive use of a node</idb:Description>
        <idb:Default>false</idb:Default>
        <idb:AllowedValue>true</idb:AllowedValue>
        <idb:AllowedValue>false</idb:AllowedValue>
      </idb:Resource>
    </jsdl:Resources>
    
    <!-- file systems -->
    <idb:FileSystem Name="SCRATCH" IncarnatedPath="/tmp"/>
    
  </idb:TargetSystemProperties>
  
   
     <!-- execution environments -->    
    <ee:ExecutionEnvironment xmlns:ee="http://www.unicore.eu/unicore/jsdl-extensions">
    <ee:Name>TIME</ee:Name>
    <ee:Version>1.0</ee:Version>
    <ee:Description>Execute a command and record execution times</ee:Description>
    <ee:ExecutableName>/usr/bin/time</ee:ExecutableName>
    <ee:Option>
      <ee:Name>VERBOSE</ee:Name>
      <ee:Description>Increased verbosity</ee:Description>
      <ee:IncarnatedValue>-v</ee:IncarnatedValue>
    </ee:Option>
   </ee:ExecutionEnvironment>
   
</idb:IDB>